# Sprint 7 – AWS Deployment \(2025-07-14 → 2025-07-28\)

Focus: deploy the EB SmartMenu Admin app to AWS with CI/CD, TLS, and observability.

## Goal / Definition of Done
A staging environment reachable at `https://admin-staging.everybite.com` is provisioned via IaC. GitHub Actions automatically builds, tests, and deploys every merge to `main`. Basic CloudWatch alarms are active.

---

## Rank-Ordered Backlog

| # | Task | Owner | Est. | DoD |
|---|------|-------|------|-----|
| 1 | **Deployment architecture decision** ― compare Amplify vs S3+CloudFront vs ECS Fargate |  | 0.5 d | Decision doc in repo, reviewed |
| 2 | **AWS account & IAM setup** – create dev/prod accounts, least-privilege roles for CI |  | 0.5 d | Roles & keys stored in 1Password |
| 3 | **Bootstrap IaC repo (Terraform)** – remote state, VPC, ALB modules |  | 1 d | `terraform plan` clean |
| 4 | **Docker / build pipeline** – multistage Dockerfile, push image to ECR via GHA |  | 1.5 d | Image visible in ECR, pipeline green |
| 5 | **Service provisioning** – ECS service + ALB with SSL |  | 2 d | `terraform apply` serves app |
| 6 | **Secrets & DB connectivity** – Mongo Atlas creds in Secrets Manager |  | 1 d | App connects successfully |
| 7 | **Route 53 + ACM** – `admin-staging.everybite.com` HTTPS |  | 0.5 d | Green lock in browser |
| 8 | **Observability** – CloudWatch logs/metrics + alarms |  | 1 d | Dashboard & alarm SNS email |
| 9 | **Smoke/E2E deploy test** – Cypress hits staging URL post-deploy |  | 1 d | Pipeline fails on smoke failure |
| 10 | **Load & cost check** – k6 run + cost projection |  | 0.5 d | Report attached to sprint doc |
| 11 | **Docs & hand-off** – `DEPLOY.md`, architecture diagram |  | 0.5 d | Reviewed by peer |

---

## Ceremonies
* Planning: Mon 07-14, 1 h
* Daily stand-up: 10 min
* Mid-sprint demo: Fri 07-18 – staging URL live
* Review & retro: Fri 07-25

---

## Risks / Mitigations
* **AWS unfamiliarity** → Spike time allocated in Task 1
* **Cost creep** → Include cost projection (Task 10)
* **Secrets leakage** → Use Secrets Manager, audit IAM
* **Rollback** → Keep current Vercel deploy until Sprint 8
