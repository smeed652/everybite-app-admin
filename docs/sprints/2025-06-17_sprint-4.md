# Sprint 4 — 17 Jun 2025 → 01 Jul 2025

## Theme
Stabilise CI & expand test coverage while delivering the first "Menu Builder" MVP for SmartMenu Admin.

## Objectives (SMART)
1. **Green CI on every PR** — Cypress + Vitest must pass on GitHub Actions (⏱ day 1).
2. **Menu Builder MVP** — enable admins to create/update a menu with drag-and-drop sections & items (⏱ day 10).
3. **Type-safety debt payoff** — reduce `any` usages by 30 % in `src/` (⏱ day 7).
4. **Page-level loading states** — add skeleton loaders to Users & Menus pages to improve UX (⏱ day 5).
5. **Docs & DX** — publish CONTRIBUTING.md + VSCode launch config (⏱ day 3).

## Backlog & Task Breakdown
| Priority | Epic / Task | Owner | Est (pts) |
|----------|-------------|-------|-----------|
| P0 | Fix CI env (`CYPRESS_BASE_URL`, secret placement) | Sid | 1 |
| P0 | Add `wait-on` & health check to workflow | Sid | 1 |
| P0 | Merge Sprint-3 PR & cut `v0.4.0` tag | Sid | 1 |
| P1 | Menu Builder – data model (`Menu`, `Section`, `Item`) | Dev A | 3 |
| P1 | Menu Builder – drag-and-drop UI (react-beautiful-dnd) | Dev A | 5 |
| P1 | Menu Builder – API routes (`/api/menu/*`) with RBAC | Dev B | 5 |
| P1 | Menu Builder – e2e spec (`menu_builder.cy.ts`) | QA | 3 |
| P2 | Refactor Users page hooks → `react-query` | Dev C | 3 |
| P2 | Remove 40 occurrences of `any` (ts-eslint fix) | Dev C | 2 |
| P2 | Skeleton loaders component library entry | Dev D | 2 |
| P3 | CONTRIBUTING.md + Prettier/ESLint docs | Dev D | 1 |
| P3 | VSCode debug config (`.vscode/launch.json`) | Dev D | 1 |

_Total committed capacity: 28 pts_

## Carry-over From Sprint 3
- None; all Sprint 3 stories closed ✅

## Stretch Goals
- Dark-mode toggle in Settings page.
- GitHub OIDC deploy tokens to replace personal access token.

## Risks & Mitigations
| Risk | Impact | Likelihood | Mitigation |
|------|--------|------------|------------|
| Cognito rate limits during Menu Builder tests | Medium | Low | Use local mocks in Cypress |
| React-beautiful-dnd self-scroll bug | Low | Medium | Evaluate `dnd-kit` fallback |

## Definition of Done
1. CI pipeline green on `main` and PR branches.
2. All code merged via reviewed PRs; no `eslint` errors.
3. Docs updated; demo GIF attached to release notes.

---
_Updated: 17 Jun 2025 by Cascade._
